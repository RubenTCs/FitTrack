<!-- will make it automatically change after making crud function -->
<div class="dummyRoutine">
    <div class="dummyRoutine__title">
        <div>
            <h1 id="routineName"><%= selectedRoutine.routinename %></h1>
            <p> <%= selectedRoutine.description %></p>
        </div>
        <div class="routineBtnpos">
            <a class="routineBtn" onclick="deleteRoutine('<%= selectedRoutine._id %>', '<%= user.username %>', '<%= user._id %>')">Delete Routine</a>
        </div>
    </div>
    <hr>
    <div class="dummyRoutine__content">
        <div class="dummyRoutine__exercise">
            <% selectedRoutine.exercises.forEach((exercise, index) => { %>
                
                <table id="exerciseTable">
                    <tr>
                        <th colspan="<% if (exercise._id.type === 'duration' || exercise._id.type === 'repsOnly') { %> 2 <% } else { %> 3 <% } %>" class="exercises__caption"><%= exercise._id.exercisename %></th>
                    </tr>
                    
                    <tr>
                        <td>Set</td>
                        <% if (exercise._id.type === 'reps' || exercise._id.type === 'repsPlusKg' || exercise._id.type === 'repsMinusKg') { %>
                            <td>Weight (Kg)</td>
                            <td>Reps</td>
                        <% } else if (exercise._id.type === 'duration') { %>
                            <td>Duration (hh:mm:ss) </td>
                        <% } else if (exercise._id.type === 'distanceDuration') { %>
                            <td>Distance (Km)</td>
                            <td>Duration (hh:mm:ss) </td>
                        <% } else if (exercise._id.type === 'kgDistance') { %>
                            <td>Weight (Kg)</td>
                            <td>Distance (Km)</td>
                        <% } else if (exercise._id.type === 'repsOnly') {%>
                            <td>Reps</td>
                        <% } %>
                    </tr>
                    <% exercise.sets.forEach((set, index) => { %>
                        <tr>
                            <td><%= index + 1 %></td>
                            <% if (exercise._id.type === 'reps' || exercise._id.type === 'repsPlusKg' || exercise._id.type === 'repsMinusKg') { %>
                                <td><%= set.kg %></td>
                                <td><%= set.reps %></td>
                            <% } else if (exercise._id.type === 'duration') { %>
                                <td><%= set.duration %> </td>
                            <% } else if (exercise._id.type === 'distanceDuration') { %>
                                <td><%= set.distance %></td>
                                <td><%= set.duration %></td>
                            <% } else if (exercise._id.type === 'kgDistance') { %>
                                <td><%= set.kg %></td>
                                <td><%= set.distance %></td>
                            <% } else if (exercise._id.type === 'repsOnly') {%>
                                <td><%= set.reps %></td>
                            <% } %>
                        </tr>
                    <% }) %>
                    <tr>
                        <th colspan="3">
                            <button onclick="addSetSidebar('<%= exercise.exercisename %>', '<%= exercise._id.type %>', '<%= exercise._id._id %>', '<%= index %>')">+ Add Set</button>
                            <button onclick="deleteExerciseFromRoutine('<%= exercise._id._id %>', '<%= selectedRoutine._id %>', '<%= user._id %>', '<%= user.username %>' ,'<%= index %>')">Delete Exercise</button>
                        </th><%=  %>
                    </tr>
                </table>
                <br>
            <% }) %>
            
            <% selectedRoutine.customexercises.forEach((customexercise, index) => { %>
                <table id="exerciseTable">
                    <tr>
                        <th colspan="<% if (customexercise._id.type === 'duration' || customexercise._id.type === 'repsOnly') { %>
                            2
                        <% } else { %>
                            3
                        <% } %>" class="exercises__caption"><%= customexercise._id.exercisename %> [Custom]</th>
                    </tr>
                    
                    <tr>
                        <td>Set</td>
                        <% if (customexercise._id.type === 'reps') { %>
                            <td>Weight (Kg)</td>
                            <td>Reps</td>
                        <% } else if (customexercise._id.type === 'repsPlusKg') { %>
                            <td>Weight (+Kg)</td>
                            <td>Reps</td>
                        <% } else if (customexercise._id.type === 'repsMinusKg') { %>
                            <td>Weight (-Kg)</td>
                            <td>Reps</td>
                        <% } else if(customexercise._id.type === 'duration') { %>
                            <td>Duration (hh:mm:ss) </td>
                        <% } else if (customexercise._id.type === 'distanceDuration') { %>
                            <td>Distance (Km)</td>
                            <td>Duration (hh:mm:ss) </td>
                        <% } else if (customexercise._id.type === 'kgDistance') { %>
                            <td>Weight (Kg)</td>
                            <td>Distance (Km)</td>
                        <% } else if (customexercise._id.type === 'repsOnly') {%>
                            <td>Reps</td>
                        <% } %>
                    </tr>
                    <% customexercise.sets.forEach((set, index) => { %>
                        <tr>
                            <td><%= index + 1 %></td>
                            <% if (customexercise._id.type === 'reps' || customexercise._id.type === 'repsPlusKg' || customexercise._id.type === 'repsMinusKg') { %>
                                <td><%= set.kg %></td>
                                <td><%= set.reps %></td>
                            <% } else if (customexercise._id.type === 'duration') { %>
                                <td><%= set.duration %> </td>
                            <% } else if (customexercise._id.type === 'distanceDuration') { %>
                                <td><%= set.distance %></td>
                                <td><%= set.duration %></td>
                            <% } else if (customexercise._id.type === 'kgDistance') { %>
                                <td><%= set.kg %></td>
                                <td><%= set.distance %></td>
                            <% } else if (customexercise._id.type === 'repsOnly') {%>
                                <td><%= set.reps %></td>
                            <% } %>
                        </tr>
                    <% }) %>
                    <tr>
                        <th colspan="3">
                            <button onclick="addSetSidebar('<%= customexercise._id.exercisename %>', '<%= customexercise._id.type %>', '<%= customexercise._id._id %>',  '<%= index %>')">+ Add Set</button>
                            <button onclick="deleteExerciseFromRoutine('<%= customexercise._id.exercisename %>', '<%= customexercise._id.type %>', '<%= customexercise._id._id %>',  '<%= index %>')">Delete Exercise</button>
                        </th>
                    </tr>
                </table>
                <br>
        <% }) %>
            <!-- Center the button please -->
            <a class='AddExercise' onclick="addExerciseSidebar()">+ Add Exercise</a>
    </div>
        
        <%- include('info.ejs') %>
    </div>
    
</div>